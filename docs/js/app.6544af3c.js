(function(t){function e(e){for(var s,i,n=e[0],c=e[1],l=e[2],u=0,h=[];u<n.length;u++)i=n[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&h.push(o[i][0]),o[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);p&&p(e);while(h.length)h.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,i=1;i<a.length;i++){var c=a[i];0!==o[c]&&(s=!1)}s&&(r.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},o={app:0},r=[];function i(t){return n.p+"js/"+({about:"about"}[t]||t)+"."+{about:"60c17894"}[t]+".js"}function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.e=function(t){var e=[],a=o[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise((function(e,s){a=o[t]=[e,s]}));e.push(a[2]=s);var r,c=document.createElement("script");c.charset="utf-8",c.timeout=120,n.nc&&c.setAttribute("nonce",n.nc),c.src=i(t);var l=new Error;r=function(e){c.onerror=c.onload=null,clearTimeout(u);var a=o[t];if(0!==a){if(a){var s=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+s+": "+r+")",l.name="ChunkLoadError",l.type=s,l.request=r,a[1](l)}o[t]=void 0}};var u=setTimeout((function(){r({type:"timeout",target:c})}),12e4);c.onerror=c.onload=r,document.head.appendChild(c)}return Promise.all(e)},n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/PhotoEditor/",n.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var p=l;r.push(["f9b4","chunk-vendors"]),a()})({"1b7a":function(t,e,a){"use strict";a("a53d")},"1ee0":function(t,e,a){},"27e2":function(t,e,a){},"5d6b":function(t,e,a){"use strict";a("826e")},"6cc0":function(t,e,a){"use strict";a("882b")},"7cd5":function(t,e,a){"use strict";a("db57")},"826e":function(t,e,a){},"882b":function(t,e,a){},a53d:function(t,e,a){},db57:function(t,e,a){},eda2:function(t,e,a){"use strict";a("1ee0")},f9b4:function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("navbar"),a("router-view")],1)},r=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-navbar",{attrs:{shadow:"",id:"navbar"}},[a("template",{slot:"brand"},[a("h1",{staticClass:"is-size-3 mx-2"},[t._v("Photo editor")])]),a("template",{slot:"start"},[a("b-navbar-item",{attrs:{tag:"router-link",to:"/about"}},[t._v("About")]),a("b-navbar-item",{attrs:{tag:"router-link",to:"/"}},[t._v("Home")])],1),a("template",{slot:"end"},[a("b-navbar-item",{attrs:{tag:"div"}},[a("div",{staticClass:"buttons"},[a("button",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.fileReady,expression:"$store.state.fileReady"}],staticClass:"button is-primary",on:{click:t.prepfordownload}},[a("strong",[t._v("Download")])])])])],1)],2)},n=[],c=a("9ab4"),l=a("60a3"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-card has-text-centered",staticStyle:{width:"300px",margin:"0 auto"}},[t._m(0),a("section",{staticClass:"modal-card-body"},[a("p",{staticClass:"is-size-5 mb-3"},[t._v("image format")]),a("div",{staticClass:"field"},[a("b-radio",{attrs:{name:"name","native-value":"jpeg"},model:{value:t.format,callback:function(e){t.format=e},expression:"format"}},[t._v("jpeg")])],1),a("div",{staticClass:"field"},[a("b-radio",{attrs:{name:"name","native-value":"png"},model:{value:t.format,callback:function(e){t.format=e},expression:"format"}},[t._v("png")])],1),a("p",{staticClass:"is-size-5 mb-3"},[t._v("image quality")]),a("b-numberinput",{model:{value:t.quality,callback:function(e){t.quality=e},expression:"quality"}}),a("b-slider",{staticClass:"mt-2 mb-2",attrs:{size:"is-small",min:30,max:100,step:1,tooltip:!1},model:{value:t.quality,callback:function(e){t.quality=e},expression:"quality"}})],1),a("footer",{staticClass:"modal-card-foot is-justify-content-center"},[a("button",{staticClass:"button is-primary",on:{click:t.download}},[t._v("Download")])])])},p=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[t._v("Download")])])}];let h=class extends l["d"]{constructor(){super(...arguments),this.format="jpeg",this.quality=75}download(){this.$root.$emit("download",this.format,this.quality)}};h=Object(c["a"])([l["a"]],h);var d=h,m=d,f=a("2877"),g=Object(f["a"])(m,u,p,!1,null,null,null),b=g.exports;let v=class extends l["d"]{prepfordownload(){this.$buefy.modal.open({parent:this,component:b,trapFocus:!0})}};v=Object(c["a"])([l["a"]],v);var w=v,y=w,$=(a("6cc0"),Object(f["a"])(y,i,n,!1,null,null,null)),O=$.exports,j={name:"app",components:{navbar:O}},_=j,E=Object(f["a"])(_,o,r,!1,null,null,null),x=E.exports,C=a("9483");Object(C["a"])("/PhotoEditor/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var R=a("8c4f"),S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("photoEditor")],1)},k=[],I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"photoEditor"},[a("sidebar"),a("photo")],1)},D=[];function A(t){return{opacity:t.opacity||0,brightness:t.brightness||0,hueRotate:t.hueRotate||0,saturate:t.saturate||0,contrast:t.contrast||0,invert:t.invert||0,sepia:t.sepia||0,grayscale:t.grayscale||0,blur:t.blur||0}}var z={namespaced:!0,state:{orginalsrc:sessionStorage.orginalsrc||"",width:sessionStorage.width,height:sessionStorage.height,fileReady:!!sessionStorage.fileReady,curfiltername:sessionStorage.curfiltername?sessionStorage.curfiltername:"default",curfilter:sessionStorage.curfilter?JSON.parse(sessionStorage.curfilter):A({}),curset:sessionStorage.curset?JSON.parse(sessionStorage.curset):A({opacity:100})},mutations:{applyfilter(t,{filter:e,name:a}){t.curfiltername=a,sessionStorage.setItem("curfiltername",a);const s=A(e);t.curfilter=s,sessionStorage.setItem("curfilter",JSON.stringify(s))},updatesettings(t,{func:e,val:a}){const s=Object.assign(t.curset);s[e]=a,t.curset=s,sessionStorage.setItem("curset",JSON.stringify(s))},reset(t){t.curfiltername="default",t.curfilter=A({}),t.curset=A({opacity:100}),sessionStorage.removeItem("curset"),sessionStorage.removeItem("curfilter"),sessionStorage.removeItem("curfiltername")},clearModule(t){Object.assign(t,{orginalsrc:"",width:0,height:0,fileReady:!1,curfiltername:"default",curfilter:A({}),curset:A({opacity:100})});for(const e in t)sessionStorage.removeItem(e)},initImage(t,{src:e,width:a,height:s}){t.fileReady=!0,t.orginalsrc=e,t.width=a,t.height=s,sessionStorage.setItem("width",a),sessionStorage.setItem("height",s),sessionStorage.setItem("fileReady","true"),sessionStorage.setItem("orginalsrc",e)}},actions:{},getters:{alleditsmerged(t){const e=t.curfilter,a=t.curset;return`\n      brightness(${100+e.brightness+a.brightness}%)\n      hue-rotate(${e.hueRotate+a.hueRotate}deg)\n      saturate(${100+e.saturate+a.saturate}%)\n      contrast(${100+e.contrast+a.contrast}%)\n      invert(${e.invert+a.invert}%)\n      sepia(${e.sepia+a.sepia}%)\n      grayscale(${e.grayscale+a.grayscale}%)\n      blur(${e.blur+a.blur}px)\n      opacity(${e.opacity+a.opacity}%)\n      `}},modules:{}},N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-sidebar",{attrs:{id:"sidebar",position:"absolute",type:"is-white",fullheight:"",open:""}},[a("b-menu",{class:{disabled:!t.$store.state.photoEditor.fileReady}},[a("b-menu-list",[a("b-menu-item",{attrs:{animation:"none",expanded:t.crop,active:t.crop,label:"Crop & rotate"},on:{"update:expanded":function(e){t.crop=e},"update:active":function(e){t.crop=e}}},[a("cropperOptions")],1),a("b-menu-item",{attrs:{animation:"none",label:"Edit"}},t._l(t.options,(function(t){return a("optionSlider",{key:t.name,attrs:{option:t}})})),1),a("b-menu-item",{attrs:{animation:"none",label:"Apply effects"}},t._l(t.effects,(function(t){return a("optionSlider",{key:t.name,attrs:{option:t}})})),1),a("b-menu-item",{attrs:{animation:"none",label:"Apply filters"}},t._l(t.filters,(function(t){return a("optionCheckBox",{key:t.name,attrs:{option:t}})})),1)],1)],1)],1)},P=[];class q{constructor(t,e){this.name=t,this.func=e}}let F=class extends l["d"]{data(){const t=this.$store.state.photoEditor.curset;class e extends q{constructor(e,a,s,o,r){super(e,a),this.step=s,this.min=o,this.max=r,this.val=t[a]}}return{options:[new e("brightness","brightness",1,-100,100),new e("saturate","saturate",1,-100,100),new e("contrast","contrast",1,-100,100),new e("hue-rotate","hueRotate",1,0,360),new e("opacity","opacity",1,0,100)],effects:[new e("invert","invert",1,0,100),new e("grayscale","grayscale",1,0,100),new e("sepia","sepia",1,0,100),new e("blur","blur",1,0,50)],filters:[new q("default",{}),new q("1977",{sepia:50,hueRotate:-30,saturate:40}),new q("aden",{sepia:20,brightness:15,saturate:40}),new q("amaro",{sepia:35,contrast:10,brightness:20,saturate:30}),new q("ashby",{sepia:50,contrast:20,saturate:80}),new q("brannan",{sepia:40,contrast:25,brightness:10,saturate:-10,hueRotate:-2}),new q("brooklyn",{sepia:25,contrast:25,brightness:25,hueRotate:5}),new q("charmes",{sepia:25,contrast:25,brightness:25,saturate:35,hueRotate:-5}),new q("clarendon",{sepia:15,contrast:25,brightness:25,hueRotate:5}),new q("crema",{sepia:50,contrast:25,brightness:15,saturate:-.1,hueRotate:-2}),new q("dogpatch",{sepia:35,saturate:10,contrast:50}),new q("earlybird",{sepia:25,contrast:25,brightness:15,saturate:-10,hueRotate:-5}),new q("gingham",{contrast:10,brightness:10}),new q("ginza",{sepia:25,contrast:15,brightness:20,saturate:35,hueRotate:-5}),new q("hefe",{sepia:40,contrast:50,brightness:20,saturate:40,hueRotate:-10}),new q("helena",{sepia:50,contrast:5,brightness:5,saturate:35}),new q("hudson",{sepia:25,contrast:20,brightness:20,saturate:5,hueRotate:-15}),new q("inkwell",{contrast:-15,brightness:25,grayscale:100}),new q("juno",{sepia:35,contrast:15,brightness:15,saturate:80}),new q("kelvin",{sepia:15,contrast:50,brightness:10,hueRotate:-10}),new q("lark",{sepia:25,contrast:20,brightness:30,saturate:25}),new q("lofi",{saturate:10,contrast:50}),new q("ludwig",{sepia:15,contrast:50,brightness:10,hueRotate:-10}),new q("maven",{sepia:35,contrast:5,brightness:5,saturate:75}),new q("mayfair",{contrast:10,brightness:15,saturate:10}),new q("moon",{sepia:35,contrast:-5,brightness:40,saturate:0}),new q("nashville",{sepia:25,contrast:50,brightness:-10,hueRotate:-15}),new q("perpetua",{contrast:10,brightness:25,saturate:10}),new q("poprocket",{sepia:15,brightness:20}),new q("reyes",{sepia:75,contrast:-25,brightness:25,saturate:40}),new q("rise",{sepia:25,contrast:25,brightness:20,saturate:-10}),new q("sierra",{sepia:25,contrast:50,brightness:-10,hueRotate:-15}),new q("skyline",{sepia:15,contrast:25,brightness:25,saturate:20}),new q("slumber",{sepia:35,contrast:25,saturate:25}),new q("stinson",{sepia:35,contrast:25,brightness:10,saturate:25}),new q("sutro",{sepia:40,contrast:20,brightness:-10,saturate:40,hueRotate:-10}),new q("toaster",{sepia:25,contrast:50,brightness:-5,hueRotate:-15}),new q("valencia",{sepia:25,contrast:10,brightness:10}),new q("vesper",{sepia:35,contrast:15,brightness:20,saturate:30}),new q("walden",{sepia:35,contrast:-20,brightness:25,saturate:40}),new q("willow",{sepia:20,contrast:-15,brightness:20,saturate:-5}),new q("x-pro II",{sepia:45,contrast:25,brightness:75,saturate:30,hueRotate:-5})]}}};F=Object(c["a"])([l["a"]],F);var W=F,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{staticStyle:{position:"relative"}},[a("span",[t._v(t._s(t.option.name))]),a("span",{staticClass:"reset has-text-weight-light is-size-7",on:{click:function(e){return t.reset(e)}}},[t._v("reset")]),a("b-slider",{staticClass:"mt-2 mb-2",attrs:{size:"is-small",min:t.option.min,max:t.option.max,step:t.option.step},model:{value:t.option.val,callback:function(e){t.$set(t.option,"val",e)},expression:"option.val"}})],1)])},J=[];let T=class extends l["d"]{get val(){return this.option.val}valWatcher(t){this.$store.commit("photoEditor/updatesettings",{func:this.option.func,val:t}),this.$root.$emit("photoEditor/alterphoto")}reset(){this.option.val=0}};Object(c["a"])([Object(l["c"])({required:!0})],T.prototype,"option",void 0),Object(c["a"])([Object(l["e"])("val")],T.prototype,"valWatcher",null),T=Object(c["a"])([l["a"]],T);var B=T,L=B,H=Object(f["a"])(L,M,J,!1,null,null,null),U=H.exports,V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",[a("b-radio",{staticClass:"my-1",attrs:{"native-value":t.option.name},model:{value:t.curFilterName,callback:function(e){t.curFilterName=e},expression:"curFilterName"}},[t._v(" "+t._s(t.option.name)+" ")])],1)])},G=[];let X=class extends l["d"]{get curFilterName(){return this.$store.state.photoEditor.curfiltername}set curFilterName(t){this.$store.commit("photoEditor/applyfilter",{filter:this.option.func,name:t}),this.$root.$emit("photoEditor/alterphoto")}};Object(c["a"])([Object(l["c"])({required:!0})],X.prototype,"option",void 0),X=Object(c["a"])([l["a"]],X);var Y=X,K=Y,Q=Object(f["a"])(K,V,G,!1,null,null,null),Z=Q.exports,tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cropper-options"},[a("li",[a("a",{staticClass:"pb-0 aspect-ratios"},[a("span",[t._v("aspect ratio")]),a("div",{staticClass:"is-mobile columns is-multiline py-2",staticStyle:{margin:"0 auto"}},t._l(t.aspectRatiosBtns,(function(e){return a("b-radio-button",{key:e.key,staticClass:"is-one-quarter mr-1 mb-1",attrs:{"native-value":e.val,type:"is-primary",size:"is-small"},model:{value:t.curAspectRatio,callback:function(e){t.curAspectRatio=e},expression:"curAspectRatio"}},[t._v(t._s(e.name)+" ")])})),1)])]),a("li",[a("a",{staticClass:"pt-0"},[a("span",[t._v("rotate")]),a("div",{staticClass:"py-2 is-relative ",staticStyle:{margin:"0 auto"}},[a("span",{staticClass:"reset has-text-weight-light is-size-7",on:{click:function(e){t.rotation=0}}},[t._v("reset")]),a("b-slider",{staticClass:"mb-0 mt-1",attrs:{max:22.5,min:-22.5,step:.5,size:"is-small"},model:{value:t.rotation,callback:function(e){t.rotation=e},expression:"rotation"}})],1),a("div",{staticClass:"columns is-multiline pt-2",staticStyle:{margin:"0 auto"}},[a("b-button",{staticClass:"mr-1 mb-1",attrs:{type:"is-primary",outlined:"","icon-left":"rotate-right",size:"is-small"},on:{click:function(e){t.additionalrot+=90}}},[t._v("90°")]),a("b-button",{staticClass:"mr-1 mb-1",attrs:{type:"is-primary",outlined:"","icon-left":"rotate-right",size:"is-small"},on:{click:function(e){t.additionalrot+=45}}},[t._v("45°")]),a("b-button",{staticClass:"mr-1 mb-1",attrs:{type:"is-primary",outlined:"","icon-left":"flip-horizontal",size:"is-small"},on:{click:function(e){return t.flip("X")}}},[t._v("flip h")]),a("b-button",{attrs:{type:"is-primary",outlined:"","icon-left":"flip-vertical",size:"is-small"},on:{click:function(e){return t.flip("Y")}}},[t._v("flip v")])],1)])]),a("hr",{staticClass:"mt-0 mb-1"}),a("li",[a("a",[a("b-button",{attrs:{type:"is-danger",outlined:"","icon-left":"close",size:"is-small"},on:{click:t.reset}},[t._v("reset all")])],1)])])},et=[];let at=0;class st{constructor(t,e){this.id=at,this.name=t,this.val=e,at++}}let ot=class extends l["d"]{curAspectRatioWatcher(t){this.$root.$emit("photoEditor/cropperchange","setAspectRatio",[t])}rotationWatcher(t){this.$root.$emit("photoEditor/cropperchange","rotateTo",[t+this.additionalrot])}additionalrotWatcher(){this.additionalrot>=360&&(this.additionalrot-=360),this.$root.$emit("photoEditor/cropperchange","rotateTo",[this.rotation+this.additionalrot])}reset(){this.$root.$emit("photoEditor/cropperchange","reset",[])}flip(t){const e="flip"+t;this[e]=!this[e],this.$root.$emit("cropperchange","scale"+t,[this[e]?-1:1])}};Object(c["a"])([Object(l["e"])("curAspectRatio")],ot.prototype,"curAspectRatioWatcher",null),Object(c["a"])([Object(l["e"])("rotation")],ot.prototype,"rotationWatcher",null),Object(c["a"])([Object(l["e"])("additionalrot")],ot.prototype,"additionalrotWatcher",null),ot=Object(c["a"])([Object(l["a"])({data(){const t=this.$store.state.photoEditor.width/this.$store.state.photoEditor.height;return{anitialAR:t,curAspectRatio:t,aspectRatiosBtns:[new st("18/9",2),new st("16/9",16/9),new st("3/2",1.5),new st("4/3",4/3),new st("1/1",1),new st("free","free"),new st("original",t)],rotation:0,additionalrot:0,fliph:!1,flipv:!1}}})],ot);var rt=ot,it=rt,nt=(a("7cd5"),Object(f["a"])(it,tt,et,!1,null,"2e394ce4",null)),ct=nt.exports;let lt=class extends(Object(l["b"])(W)){constructor(){super(...arguments),this.crop=!1}cropWatcher(t){this.$root.$emit("photoEditor/cropperchange",t?"init":"customdestroy",[])}};Object(c["a"])([Object(l["e"])("crop")],lt.prototype,"cropWatcher",null),lt=Object(c["a"])([Object(l["a"])({components:{optionSlider:U,optionCheckBox:Z,cropperOptions:ct}})],lt);var ut=lt,pt=ut,ht=(a("5d6b"),Object(f["a"])(pt,N,P,!1,null,"45de454f",null)),dt=ht.exports,mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"photo-con"},[a("canvas",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.photoEditor.fileReady,expression:"$store.state.photoEditor.fileReady"}],ref:"canvas",attrs:{id:"canvas",width:t.width,height:t.height}}),t.$store.state.photoEditor.fileReady?t._e():a("b-upload",{attrs:{accept:".jpg,.jpeg,.png","drag-drop":""},on:{input:function(e){return t.initimage(e)}}},[a("section",{staticClass:"section"},[a("div",{staticClass:"content has-text-centered"},[a("b-icon",{attrs:{icon:"upload",size:"is-large"}}),a("p",[t._v("Drop your files here or click to upload")])],1)])])],1)},ft=[],gt=a("bab4"),bt=a.n(gt);a("4604");let vt=class extends l["d"]{constructor(){super(...arguments),this.cropper={},this.iscropperopen=!1,this.cropperData=sessionStorage.cropperData?JSON.parse(sessionStorage.cropperData):{}}drawImage({width:t,height:e},a){this.canvas.width=t,this.canvas.height=e,this.ctx.drawImage(a,0,0)}async initcropper(){this.drawImage({width:this.width,height:this.height},this.image),this.cropper=new bt.a(this.canvas,{initialAspectRatio:this.width/this.height,autoCropArea:1,dragMode:"move",movable:!1,zoomable:!1,data:this.cropperData}),this.cropper.customdestroy=()=>{this.cropperData=this.cropper.getData(),sessionStorage.setItem("cropperData",JSON.stringify(this.cropperData)),this.drawImage(this.cropperData,this.cropper.getCroppedCanvas({fillColor:"#fff"})),this.cropper.destroy(),this.cropper.init=this.initcropper}}cropperchange(t,e){this.cropper[t](...e)}download(t,e){const a=document.createElement("canvas"),s=a.getContext("2d");a.width=this.canvas.width,a.height=this.canvas.height,s.filter=this.$store.getters["photoEditor/alleditsmerged"],s.drawImage(this.canvas,0,0);const o=a.toDataURL("image/"+t,e/100),r=document.createElement("a");r.download="img."+t,r.href=o,r.click()}mounted(){this.$root.$on("download",(t,e)=>{this.download(t,e)}),this.cropper.init=this.initcropper}};vt=Object(c["a"])([l["a"]],vt);var wt=vt;let yt=class extends(Object(l["b"])(wt)){constructor(){super(...arguments),this.image=new Image}get width(){return this.$store.state.photoEditor.width}get height(){return this.$store.state.photoEditor.height}initimage(t){const e=new FileReader;e.onload=()=>{this.image.onload=()=>{this.$store.commit("photoEditor/initImage",{src:e.result,width:this.image.width,height:this.image.height}),this.aftermounted()},this.image.src=e.result},e.readAsDataURL(t)}aftermounted(){this.canvas=this.$refs.canvas,this.ctx=this.canvas.getContext("2d"),this.$root.$on("photoEditor/alterphoto",()=>{this.alterphoto()}),this.$root.$on("photoEditor/cropperchange",(t,e)=>{this.cropperchange(t,e)}),this.afterReload()}afterReload(){this.image.src=this.$store.state.photoEditor.orginalsrc,this.image.onload=()=>{this.alterphoto(),sessionStorage.croppperData&&(this.cropperchange("init",[]),this.canvas.addEventListener("ready",()=>{this.cropperchange("customdestroy",[])},{once:!0}))}}alterphoto(){this.ctx.filter=this.$store.getters["photoEditor/alleditsmerged"],this.ctx.drawImage(this.image,0,0,this.width,this.height)}mounted(){this.$store.state.photoEditor.fileReady&&this.aftermounted()}};yt=Object(c["a"])([l["a"]],yt);var $t=yt,Ot=$t,jt=(a("1b7a"),Object(f["a"])(Ot,mt,ft,!1,null,"52de68a7",null)),_t=jt.exports;let Et=class extends l["d"]{destroyEditor(){this.$store.commit("photoEditor/clearModuler"),this.$store.unregisterModule("photoEditor")}beforeCreate(){if(!this.$store)throw new Error("Store is not available.");this.$store.state.photoEditor||this.$store.registerModule("photoEditor",z,{preserveState:!1}),this.$root.$on("photoEditor/destroy",()=>{this.destroyEditor()})}beforeDestroy(){this.clearDataOnDestroy&&this.destroyEditor()}};Object(c["a"])([Object(l["c"])({required:!1})],Et.prototype,"clearDataOnDestroy",void 0),Et=Object(c["a"])([Object(l["a"])({components:{sidebar:dt,photo:_t}})],Et);var xt=Et,Ct=xt,Rt=(a("eda2"),Object(f["a"])(Ct,I,D,!1,null,"650dea9e",null)),St=Rt.exports,kt=St;function It(t){t.component("photoEditor",St)}"undefined"!==typeof window&&window.Vue&&window.Vue.use(It);var Dt={name:"Home",components:{photoEditor:kt}},At=Dt,zt=Object(f["a"])(At,S,k,!1,null,null,null),Nt=zt.exports,Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("center",{staticClass:"home pt-6"},[a("figure",{staticClass:"image 16/9",staticStyle:{width:"100%","max-width":"300px",margin:"0 auto"}},[a("img",{attrs:{src:t.publicPath+"img/logo.svg"}})]),a("h1",{staticClass:"is-size-3"},[t._v("Page Not Found!")]),a("router-link",{attrs:{to:"/"}},[t._v("Go home?")])],1)},qt=[],Ft={name:"NotFound",data(){return{publicPath:"/PhotoEditor/"}}},Wt=Ft,Mt=Object(f["a"])(Wt,Pt,qt,!1,null,null,null),Jt=Mt.exports;s["a"].use(R["a"]);const Tt="/PhotoEditor/",Bt=[{path:Tt,name:"Home",component:Nt},{path:Tt+"about",name:"About",component:()=>a.e("about").then(a.bind(null,"407a"))},{path:"*",name:"Not Found",component:Jt}],Lt=new R["a"]({mode:"history",routes:Bt});var Ht=Lt,Ut=a("2f62");s["a"].use(Ut["a"]);var Vt=new Ut["a"].Store({}),Gt=a("289d");a("27e2");s["a"].config.productionTip=!1,s["a"].use(Gt["a"]),new s["a"]({router:Ht,store:Vt,render:t=>t(x)}).$mount("#app")}});
//# sourceMappingURL=app.6544af3c.js.map